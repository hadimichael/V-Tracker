<!DOCTYPE html>
<html>
	
	<head>
		
		<title>Public Transport Tracker</title>
  
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
		<meta charset="utf-8" />
		
		<!-- set apple mobile settings -->
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-touch-fullscreen" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<!-- iPad/iPhone specific css below -->
		<link rel="stylesheet" media="only screen and (max-device-width: 1024px)" href="styles/ipad.css" type="text/css" />		
		<link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="styles/iphone.css" type="text/css" />
		
		<!-- general css styling -->
		<link rel="stylesheet" href="styles/styles.css" type="text/css" />
		
		<!-- js helper scripts -->
		<script type="text/javascript" charset="utf-8" src="scripts/scripts.js"></script>
		<script type="text/javascript" charset="utf-8" src="scripts/compatibility.js"></script>
		<script type="text/javascript" charset="utf-8" src="scripts/geolocation.js"></script>
		<script type="text/javascript" charset="utf-8" src="scripts/accelerometer.js"></script>
		<script type="text/javascript" charset="utf-8" src="scripts/compass.js"></script>
		<script type="text/javascript" charset="utf-8" src="scripts/storage.js"></script>
		<script type="text/javascript" charset="utf-8" src="scripts/notifications.js"></script>
		
		<!-- phongap dependancies -->
		<script type="text/javascript" charset="utf-8" src="libraries/cordova-1.5.0.js"></script>
	
		<!-- other library dependancies -->
		<script type="text/javascript" charset="utf-8" src="libraries/modernizr-2.5.3.js"></script>
		
		<!-- jQuery.mobile dependancies -->		
		<link rel="stylesheet" href="jquery/jquery.mobile-1.1.0-rc.1.css" type="text/css" />
		<script type="text/javascript" src="jquery/jquery-1.7.1.js"></script>
		<script type="text/javascript" charset="utf-8" src="scripts/jquery-mods.js"></script>
		<script type="text/javascript" src="jquery/jquery.mobile-1.1.0-rc.1.js"></script>		
			
		<!-- load scripts -->	
		<script type="text/javascript">
			function onBodyLoad() {		
				document.addEventListener("deviceready", onDeviceReady, false);
			}
	
			function onDeviceReady() {
				//We're ready to roll
				checkBrowserCompatibilities();
				storage_init();
			}
		</script>
			
	</head>

	<body onload="onBodyLoad()">
		
		<!-- Start of homepage -->
		<div data-role="page" id="homepage" data-theme="b">
			
			<div data-role="header" data-position="fixed">
				<a data-icon="refresh" data-theme="a" onClick="window.location.reload();">R</a>
				<h1>PT Tracker</h1>
				<a data-icon="info" data-theme="b" href="info.html" data-transition="flip" data-prefetch>Info</a>
			</div><!-- /header -->
			
			<div data-role="content" data-fullscreen="true">
				<div id="loader" style="visibility: hidden">
					<div id="processStatus">
						<p>Process is running
						<br><img src="images/loader.gif"></p>
					</div>
					
					<div data-role="controlgroup" data-type="horizontal">
						<button type="button" data-icon="check" onClick="()">Done</button>
					</div>
					
					<p>Received messages</p>
					<div id="alertsConsole"></div>
				</div>
								 
				<h2 style="margin-top: 0;">Controls</h2>			
				<div data-role="controlgroup" data-type="horizontal" id="data-controller">
					<button type="button" data-icon="" onClick="()">Init</button>
					<button type="button" data-icon="arrow-r" onClick="startDataCollection()">Start</button>
				</div>
				
				<h2>Debugging Access</h2>
				<div data-role="collapsible-set">	
                    <div data-role="collapsible" data-collapsed="true">
                        <h3>GeoLocation</h3>
						
						<div data-role="controlgroup" data-type="horizontal">
							<button type="button" onClick=geoLocation_startWatching()>Start</button>
							<button type="button" onClick=geoLocation_stopWatching()>Stop</button>
							<button type="button" onClick=clearDiv('geolocation')>Clear</button>
						</div>
							
						<div id="geolocation">Waiting for GPS to start...</div>
                    </div>
					
					<div data-role="collapsible" data-collapsed="true">
                        <h3>Acceleration</h3>
						
						<div data-role="controlgroup" data-type="horizontal">
							<button type="button" onClick=accelerometer_startWatching()>Start</button>
							<button type="button" onClick=accelerometer_stopWatching()>Stop</button>
							<button type="button" onClick=clearDiv('acceleration')>Clear</button>
						</div>
						
						<div id="acceleration">Waiting for accelerometer start...</div>
                    </div>
					
					<div data-role="collapsible" data-collapsed="true">
                        <h3>Compass</h3>
						
						<div data-role="controlgroup" data-type="horizontal">
							<button type="button" onClick=compass_startWatching()>Start</button>
							<button type="button" onClick=compass_stopWatching()>Stop</button>
							<button type="button" onClick=clearDiv('compass')>Clear</button>
						</div>
						
						<div id="compass">Waiting for compass start...</div>
                    </div>
					
					<div data-role="collapsible" data-collapsed="true">
                        <h3>Databases</h3>
						
						<div data-role="controlgroup" data-type="horizontal">
							<button type="button" onClick=storage_init()>Init</button>
							<button type="button" onClick=storage_show()>Show</button>
							<button type="button" onClick=storage_clear()>Clear</button>
						</div>
						
						<div id="databases"></div>
                    </div>
					
					<div data-role="collapsible" data-collapsed="true">
                        <h3>Notifications</h3>
						
						<div data-role="controlgroup" data-type="vertical">
							<a href="#" onclick="notifications_showAlert(); return false;" data-role="button">Show Alert</a>
							<a href="#" onclick="notifications_playBeep(); return false;" data-role="button">Play Beep</a>
							<a href="#" onclick="notifications_vibrate(); return false;" data-role="button">Vibrate</a>
						</div>
                    </div>
                </div>
			</div><!-- /content -->
			
		</div><!-- /homepage -->

	</body>
	
</html>
